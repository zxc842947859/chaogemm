<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  </head>
  <body>
    <div id="app">{{"2020-12-01T02:22:03.000Z" | formatTime}}</div>
    <script src="./vue.js"></script>
    <script>
      const vm = new Vue({
        el: '#app',
        data: {},
        methods: {},
        filters: {
          formatTime (time) {
            let date1 = moment(time)

            console.log(moment())
            console.log(date1)
            console.log(
              moment(time)
                .utcOffset(480)
                .format('YYYY-MM-DD HH:mm:ss')
            )
            let _diff = moment().diff(date1, 'S')
            let result = '刚刚'
            if (_diff > 60) {
              _diff = moment().diff(date1, 'm')
              result = _diff + '分前'
              if (_diff > 60) {
                _diff = moment().diff(date1, 'h')
                result = _diff + '小时前'
                if (_diff > 24) {
                  _diff = moment().diff(date1, 'd')
                  result = _diff + '天前'
                  if (_diff > 31) {
                    _diff = moment().diff(date1, 'M')
                    result = _diff + '月前'
                    if (_diff > 12) {
                      _diff = moment().diff(date1, 'Y')
                      result = _diff + '年前'
                    }
                  }
                }
              }
            }
            return result
          }
        }
      })
    </script>
  </body>
</html>
